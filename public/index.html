<!DOCTYPE html>
<html>
<head>
  <title>AD Location Spoofer</title>
  <meta charset="utf-8">
  <style>
    body{font-family:monospace;background:#000;color:#0f0;padding:2rem;max-width:900px;margin:auto;line-height:1.6}
    button{padding:12px 24px;margin:8px;background:#0f0;color:#000;border:none;border-radius:6px;cursor:pointer;font-size:16px;font-family:monospace}
    button:hover{background:#0a0}
    #result{background:#111;padding:20px;margin:20px 0;border-radius:8px;white-space:pre-wrap;font-family:monospace;font-size:14px;max-height:400px;overflow:auto}
    .ip{background:#0f0;color:#000;padding:8px 16px;border-radius:20px;display:inline-block;font-weight:bold;margin:4px}
    h1{font-size:2.5em;text-align:center;margin-bottom:10px}
    .status{display:inline-block;padding:8px 16px;background:#0a0;color:#000;border-radius:20px;font-weight:bold}
    input{width:100%;padding:12px;margin:10px 0;border:1px solid #0f0;background:#111;color:#0f0;font-family:monospace;font-size:16px;border-radius:6px}
  </style>
</head>
<body>
  <h1>ğŸ›¡ï¸ AD Location Spoofer v2.0</h1>
  <div style="text-align:center;margin-bottom:30px">
    <div class="status" id="status">â³ LOADING...</div>
  </div>

  <button onclick="testNY()">ğŸ‡ºğŸ‡¸ New York IP Test</button>
  <button onclick="testUK()">ğŸ‡¬ğŸ‡§ London IP Test</button>
  <button onclick="testStatus()">ğŸ” Status Check</button>
  
  <h3 style="margin-top:30px">Custom Test:</h3>
  <input id="customUrl" placeholder="https://ipinfo.io/json" value="https://ipinfo.io/json">
  <button onclick="testCustom()">ğŸš€ Test URL</button>
  <select id="locationSelect">
    <option value="newyork">ğŸ‡ºğŸ‡¸ New York</option>
    <option value="london">ğŸ‡¬ğŸ‡§ London</option>
  </select>

  <div id="result">Click any button to start testing...</div>

  <script>
    const baseUrl = window.location.origin;
    
    async function api(url) {
      const res = await fetch(url);
      return await res.text();
    }
    
    async function testNY() {
      showLoading('Testing New York...');
      const result = await api(`${baseUrl}/api/proxy?url=https://ipinfo.io/json&location=newyork`);
      document.getElementById('result').textContent = result;
    }
    
    async function testUK() {
      showLoading('Testing London...');
      const result = await api(`${baseUrl}/api/proxy?url=https://ipinfo.io/json&location=london`);
      document.getElementById('result').textContent = result;
    }
    
    async function testStatus() {
      showLoading('Checking status...');
      const result = await api(`${baseUrl}/api/test`);
      document.getElementById('result').textContent = result;
      document.getElementById('status').textContent = 'âœ… LIVE';
      document.getElementById('status').style.background = '#0f0';
    }
    
    async function testCustom() {
      const url = document.getElementById('customUrl').value;
      const location = document.getElementById('locationSelect').value;
      showLoading(`Proxying through ${location}...`);
      const encoded = encodeURIComponent(url);
      const result = await api(`${baseUrl}/api/proxy?url=${encoded}&location=${location}`);
      document.getElementById('result').textContent = result;
    }
    
    function showLoading(msg) {
      document.getElementById('result').textContent = `â³ ${msg}`;
    }
    
    // Auto-test on load
    window.onload = () => {
      testStatus();
    };
  </script>
</body>
</html>
